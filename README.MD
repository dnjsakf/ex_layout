This is battle code layout.
